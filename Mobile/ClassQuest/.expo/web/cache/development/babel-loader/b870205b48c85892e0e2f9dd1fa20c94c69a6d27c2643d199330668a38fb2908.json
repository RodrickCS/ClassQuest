{"ast":null,"code":"import _readOnlyError from \"@babel/runtime/helpers/readOnlyError\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { TextInput } from \"react-native-paper\";\nimport { RadioButton } from \"react-native-paper\";\nimport styles from \"../login/style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(\"ciclano@gmail.com\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    Email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"senaha1234\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    Senha = _useState4[0],\n    setSenha = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    Msg = _useState6[0],\n    setMsg = _useState6[1];\n  var _useState7 = useState(\"aluno\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    checked = _useState8[0],\n    setChecked = _useState8[1];\n  function cadastro() {\n    navigation.navigate('Cadastro');\n  }\n  function login() {\n    var form = {\n      email: Email,\n      senha: Senha\n    };\n    var uri = checked === \"professor\" ? \"http://localhost:3000/professores/login\" : \"http://localhost:3000/alunos/login\";\n    var path = checked === \"professor\" ? \"MenuProfessor\" : \"MenuAluno\";\n    var options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(form)\n    };\n    fetch(uri, options).then(function (resp) {\n      if (resp.ok) {\n        return resp.json();\n      } else if (resp.status === 401) {\n        \"Senha incorreta\", _readOnlyError(\"setMsg\");\n        throw new Error(\"Senha incorreta\");\n      } else if (resp.status === 404) {\n        throw new Error(\"Usuário não encontrado\");\n      } else {\n        throw new Error(\"Erro interno do servidor\");\n      }\n    }).then(function (data) {\n      console.log(data);\n      AsyncStorage.setItem(\"nome\", JSON.stringify(data.info));\n      AsyncStorage.setItem(\"id_aluno\", data.info.id_aluno);\n      AsyncStorage.setItem(\"token\", data.token);\n      navigation.navigate(path);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(ImageBackground, {\n      source: require(\"../../../assets/fundo.jpg\"),\n      resizeMode: \"cover\",\n      style: styles.imagem\n    }), _jsx(View, {\n      style: styles.imagenzinha,\n      children: _jsx(Image, {\n        style: styles.image,\n        source: require(\"../../../assets/logo.png\")\n      })\n    }), _jsxs(View, {\n      style: styles.divInputzinho,\n      children: [_jsx(TextInput, {\n        keyboardType: \"email-address\",\n        style: styles.inputzinho,\n        placeholder: \"Digite o email\",\n        value: Email,\n        onChangeText: function onChangeText(val) {\n          setEmail(val);\n        }\n      }), _jsx(TextInput, {\n        secureTextEntry: true,\n        style: styles.inputzinho,\n        placeholder: \"Digite a senha\",\n        value: Senha,\n        onChangeText: function onChangeText(val1) {\n          setSenha(val1);\n        }\n      }), _jsx(Text, {\n        style: styles.txtErr,\n        children: Msg\n      })]\n    }), _jsx(View, {\n      children: _jsxs(Text, {\n        style: styles.label,\n        children: [\"Sou:\", _jsxs(Text, {\n          style: styles.label,\n          children: [_jsx(RadioButton, {\n            value: \"aluno\",\n            status: checked === \"aluno\" ? \"checked\" : \"unchecked\",\n            onPress: function onPress() {\n              return setChecked(\"aluno\");\n            }\n          }), \" \", \"Aluno(a)\"]\n        }), _jsxs(Text, {\n          style: styles.label,\n          children: [_jsx(RadioButton, {\n            value: \"professor\",\n            status: checked === \"professor\" ? \"checked\" : \"unchecked\",\n            onPress: function onPress() {\n              return setChecked(\"professor\");\n            }\n          }), \" \", \"Professor(a)\"]\n        })]\n      })\n    }), _jsxs(View, {\n      children: [_jsx(TouchableOpacity, {\n        style: styles.buttonzinho,\n        onPress: function onPress() {\n          login();\n        },\n        children: _jsx(Text, {\n          style: styles.txtbutton,\n          children: \"Login\"\n        })\n      }), _jsx(Text, {\n        style: styles.txtAbaixo,\n        children: \"ou\"\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          cadastro();\n        },\n        children: _jsx(Text, {\n          style: styles.txtCad,\n          children: \"Cadastre-se\"\n        })\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["useState","AsyncStorage","View","Text","TouchableOpacity","Image","ImageBackground","TextInput","RadioButton","styles","jsx","_jsx","jsxs","_jsxs","Login","_ref","navigation","_useState","_useState2","_slicedToArray","Email","setEmail","_useState3","_useState4","Senha","setSenha","_useState5","_useState6","Msg","setMsg","_useState7","_useState8","checked","setChecked","cadastro","navigate","login","form","email","senha","uri","path","options","method","headers","body","JSON","stringify","fetch","then","resp","ok","json","status","_readOnlyError","Error","data","console","log","setItem","info","id_aluno","token","catch","error","style","container","children","source","require","resizeMode","imagem","imagenzinha","image","divInputzinho","keyboardType","inputzinho","placeholder","value","onChangeText","val","secureTextEntry","val1","txtErr","label","onPress","buttonzinho","txtbutton","txtAbaixo","txtCad"],"sources":["C:/Users/Desenvolvimento/Desktop/senai/ClassQuest/Mobile/ClassQuest/src/pages/login/login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { View, Text, TouchableOpacity, Image, ImageBackground } from \"react-native\";\r\nimport { TextInput } from \"react-native-paper\";\r\nimport { RadioButton } from \"react-native-paper\";\r\nimport styles from \"../login/style\";\r\n\r\nexport default function Login({ navigation }) {\r\n    const [Email, setEmail] = useState(\"ciclano@gmail.com\");\r\n    const [Senha, setSenha] = useState(\"senaha1234\");\r\n    const [Msg, setMsg] = useState('');\r\n    const [checked, setChecked] = useState(\"aluno\");\r\n\r\n    function cadastro() {\r\n        navigation.navigate('Cadastro');\r\n    }\r\n\r\n    function login() {\r\n        let form = {\r\n            email: Email,\r\n            senha: Senha,\r\n        };\r\n\r\n        let uri =\r\n            checked === \"professor\" ? \"http://localhost:3000/professores/login\" : \"http://localhost:3000/alunos/login\";\r\n        let path = checked === \"professor\" ? \"MenuProfessor\" : \"MenuAluno\";\r\n\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(form),\r\n        };\r\n\r\n        fetch(uri, options)\r\n            .then((resp) => {\r\n                if (resp.ok) {\r\n                    return resp.json();\r\n                } else if (resp.status === 401) {\r\n                    setMsg =\"Senha incorreta\"\r\n                    throw new Error(\"Senha incorreta\");\r\n                } else if (resp.status === 404) {\r\n                    throw new Error(\"Usuário não encontrado\");\r\n                } else {\r\n                    throw new Error(\"Erro interno do servidor\");\r\n                }\r\n            })\r\n            .then((data) => {\r\n                console.log(data);\r\n\r\n                AsyncStorage.setItem(\"nome\", JSON.stringify(data.info));\r\n                AsyncStorage.setItem(\"id_aluno\", data.info.id_aluno);\r\n                AsyncStorage.setItem(\"token\", data.token);\r\n\r\n                navigation.navigate(path);\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <ImageBackground\r\n                source={require(\"../../../assets/fundo.jpg\")}\r\n                resizeMode=\"cover\"\r\n                style={styles.imagem}></ImageBackground>\r\n            <View style={styles.imagenzinha}>\r\n                <Image\r\n                    style={styles.image}\r\n                    source={require(\"../../../assets/logo.png\")}/>\r\n            </View>\r\n            <View style={styles.divInputzinho}>\r\n                <TextInput\r\n                    keyboardType=\"email-address\"\r\n                    style={styles.inputzinho}\r\n                    placeholder=\"Digite o email\"\r\n                    value={Email}\r\n                    onChangeText={(val) => {\r\n                        setEmail(val);\r\n                    }}/>\r\n                <TextInput\r\n                    secureTextEntry={true}\r\n                    style={styles.inputzinho}\r\n                    placeholder=\"Digite a senha\"\r\n                    value={Senha}\r\n                    onChangeText={(val1) => {\r\n                        setSenha(val1);\r\n                    }}/>\r\n                <Text style={styles.txtErr}>{Msg}</Text>\r\n            </View>\r\n            <View>\r\n                <Text style={styles.label}>\r\n                    Sou:\r\n                    <Text style={styles.label}>\r\n                        <RadioButton\r\n                            value=\"aluno\"\r\n                            status={checked === \"aluno\" ? \"checked\" : \"unchecked\"}\r\n                            onPress={() => setChecked(\"aluno\")}/>{\" \"}\r\n                        Aluno(a)\r\n                    </Text>\r\n                    <Text style={styles.label}>\r\n                        <RadioButton\r\n                            value=\"professor\"\r\n                            status={checked === \"professor\" ? \"checked\" : \"unchecked\"}\r\n                            onPress={() => setChecked(\"professor\")}/>{\" \"}\r\n                        Professor(a)\r\n                    </Text>\r\n                </Text>\r\n            </View>\r\n            <View>\r\n                <TouchableOpacity\r\n                    style={styles.buttonzinho}\r\n                    onPress={() => {\r\n                        login();\r\n                    }}>\r\n                    <Text style={styles.txtbutton}>Login</Text>\r\n                </TouchableOpacity>\r\n                <Text style={styles.txtAbaixo}>ou</Text>\r\n                <TouchableOpacity\r\n                    onPress={() => {\r\n                        cadastro();\r\n                    }}>\r\n                    <Text style={styles.txtCad}>Cadastre-se</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}