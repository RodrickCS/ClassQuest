{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { TextInput } from \"react-native-paper\";\nimport { RadioButton } from \"react-native-paper\";\nimport styles from \"../login/style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(\"ciclano@gmail.com\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    Email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"senaha1234\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    Senha = _useState4[0],\n    setSenha = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    Msg = _useState6[0],\n    setMsg = _useState6[1];\n  var _useState7 = useState(\"aluno\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    checked = _useState8[0],\n    setChecked = _useState8[1];\n  function cadastro() {\n    navigation.navigate('Cadastro');\n  }\n  function login() {\n    var form = {\n      email: Email,\n      senha: Senha\n    };\n    var uri = checked === \"professor\" ? \"http://localhost:3000/professores/login\" : \"http://localhost:3000/alunos/login\";\n    var path = checked === \"professor\" ? \"MenuProfessor\" : \"MenuAluno\";\n    var options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(form)\n    };\n    fetch(uri, options).then(function (resp) {\n      if (resp.ok) {\n        return resp.json();\n      } else if (resp.status === 401) {\n        setMsg(\"Senha incorreta\");\n        throw new Error(\"Senha incorreta\");\n      } else if (resp.status === 404) {\n        setMsg(\"Usuário não encontrado\");\n        throw new Error(\"Usuário não encontrado\");\n      } else {\n        setMsg(\"Erro interno do servidor\");\n        throw new Error(\"Erro interno do servidor\");\n      }\n    }).then(function (data) {\n      console.log(data);\n      AsyncStorage.setItem(\"nome\", JSON.stringify(data.info));\n      navigation.navigate(path);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(ImageBackground, {\n      source: require(\"../../../assets/fundo.jpg\"),\n      resizeMode: \"cover\",\n      style: styles.imagem\n    }), _jsx(View, {\n      style: styles.imagenzinha,\n      children: _jsx(Image, {\n        style: styles.image,\n        source: require(\"../../../assets/logo.png\")\n      })\n    }), _jsxs(View, {\n      style: styles.divInputzinho,\n      children: [_jsx(TextInput, {\n        keyboardType: \"email-address\",\n        style: styles.inputzinho,\n        placeholder: \"Digite o email\",\n        value: Email,\n        onChangeText: function onChangeText(val) {\n          setEmail(val);\n        }\n      }), _jsx(TextInput, {\n        secureTextEntry: true,\n        style: styles.inputzinho,\n        placeholder: \"Digite a senha\",\n        value: Senha,\n        onChangeText: function onChangeText(val1) {\n          setSenha(val1);\n        }\n      }), _jsx(Text, {\n        style: styles.txtErr,\n        children: Msg\n      })]\n    }), _jsxs(View, {\n      style: styles.textinho,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"Sou:\"\n      }), _jsx(RadioButton, {\n        value: \"aluno\",\n        status: checked === \"aluno\" ? \"checked\" : \"unchecked\",\n        onPress: function onPress() {\n          return setChecked(\"aluno\");\n        }\n      }), _jsx(Text, {\n        style: styles.label,\n        children: \"Aluno(a)\"\n      }), _jsx(RadioButton, {\n        value: \"professor\",\n        status: checked === \"professor\" ? \"checked\" : \"unchecked\",\n        onPress: function onPress() {\n          return setChecked(\"professor\");\n        }\n      }), _jsx(Text, {\n        style: styles.label,\n        children: \"Professor(a)\"\n      })]\n    }), _jsxs(View, {\n      children: [_jsx(TouchableOpacity, {\n        style: styles.buttonzinho,\n        onPress: function onPress() {\n          login();\n        },\n        children: _jsx(Text, {\n          style: styles.txtbutton,\n          children: \"Login\"\n        })\n      }), _jsx(Text, {\n        style: styles.txtAbaixo,\n        children: \"ou\"\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          cadastro();\n        },\n        children: _jsx(Text, {\n          style: styles.txtCad,\n          children: \"Cadastre-se\"\n        })\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["useState","AsyncStorage","View","Text","TouchableOpacity","Image","ImageBackground","TextInput","RadioButton","styles","jsx","_jsx","jsxs","_jsxs","Login","_ref","navigation","_useState","_useState2","_slicedToArray","Email","setEmail","_useState3","_useState4","Senha","setSenha","_useState5","_useState6","Msg","setMsg","_useState7","_useState8","checked","setChecked","cadastro","navigate","login","form","email","senha","uri","path","options","method","headers","body","JSON","stringify","fetch","then","resp","ok","json","status","Error","data","console","log","setItem","info","catch","error","style","container","children","source","require","resizeMode","imagem","imagenzinha","image","divInputzinho","keyboardType","inputzinho","placeholder","value","onChangeText","val","secureTextEntry","val1","txtErr","textinho","label","onPress","buttonzinho","txtbutton","txtAbaixo","txtCad"],"sources":["C:/Users/Desenvolvimento/Desktop/senai/ClassQuest/Mobile/ClassQuest/src/pages/login/login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\r\nimport { View, Text, TouchableOpacity, Image, ImageBackground } from \"react-native\";\r\nimport { TextInput } from \"react-native-paper\";\r\nimport { RadioButton } from \"react-native-paper\";\r\nimport styles from \"../login/style\";\r\n\r\nexport default function Login({ navigation }) {\r\n    const [Email, setEmail] = useState(\"ciclano@gmail.com\");\r\n    const [Senha, setSenha] = useState(\"senaha1234\");\r\n    const [Msg, setMsg] = useState('');\r\n    const [checked, setChecked] = useState(\"aluno\");\r\n\r\n    function cadastro() {\r\n        navigation.navigate('Cadastro');\r\n    }\r\n\r\n    function login() {\r\n        let form = {\r\n            email: Email,\r\n            senha: Senha,\r\n        };\r\n\r\n        let uri =\r\n            checked === \"professor\" ? \"http://localhost:3000/professores/login\" : \"http://localhost:3000/alunos/login\";\r\n        let path = checked === \"professor\" ? \"MenuProfessor\" : \"MenuAluno\";\r\n\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(form),\r\n        };\r\n\r\n        fetch(uri, options)\r\n            .then((resp) => {\r\n                if (resp.ok) {\r\n                    return resp.json();\r\n                } else if (resp.status === 401) {\r\n                    setMsg(\"Senha incorreta\")\r\n                    throw new Error(\"Senha incorreta\");\r\n                } else if (resp.status === 404) {\r\n                    setMsg(\"Usuário não encontrado\")\r\n                    throw new Error(\"Usuário não encontrado\");\r\n                } else {\r\n                    setMsg(\"Erro interno do servidor\")\r\n                    throw new Error(\"Erro interno do servidor\");\r\n                }\r\n            })\r\n            .then((data) => {\r\n                console.log(data);\r\n                AsyncStorage.setItem(\"nome\", JSON.stringify(data.info));\r\n\r\n                navigation.navigate(path);\r\n            })\r\n            .catch((error) => {\r\n                console.error(error);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <ImageBackground\r\n                source={require(\"../../../assets/fundo.jpg\")}\r\n                resizeMode=\"cover\"\r\n                style={styles.imagem}></ImageBackground>\r\n            <View style={styles.imagenzinha}>\r\n                <Image\r\n                    style={styles.image}\r\n                    source={require(\"../../../assets/logo.png\")}/>\r\n            </View>\r\n            <View style={styles.divInputzinho}>\r\n                <TextInput\r\n                    keyboardType=\"email-address\" style={styles.inputzinho} \r\n                    placeholder=\"Digite o email\" value={Email}\r\n                    onChangeText={(val) => { setEmail(val) }}/>\r\n                <TextInput\r\n                    secureTextEntry={true} style={styles.inputzinho}\r\n                    placeholder=\"Digite a senha\" value={Senha}\r\n                    onChangeText={(val1) => { setSenha(val1) }}/>\r\n                <Text style={styles.txtErr}>{Msg}</Text>\r\n            </View>\r\n            <View style={styles.textinho}>\r\n                    <Text style={styles.label}>\r\n                        Sou:\r\n                    </Text>\r\n                    <RadioButton value=\"aluno\" status={checked === \"aluno\" ? \"checked\" : \"unchecked\"} onPress={() => setChecked(\"aluno\")} />\r\n                    <Text style={styles.label}>\r\n                        Aluno(a)\r\n                    </Text>\r\n                    <RadioButton value=\"professor\"\r\n                        status={checked === \"professor\" ? \"checked\" : \"unchecked\"}\r\n                        onPress={() => setChecked(\"professor\")} />\r\n                    <Text style={styles.label}>\r\n                        Professor(a)\r\n                    </Text>\r\n                </View>\r\n            <View>\r\n                <TouchableOpacity\r\n                    style={styles.buttonzinho}\r\n                    onPress={() => {\r\n                        login();\r\n                    }}>\r\n                    <Text style={styles.txtbutton}>Login</Text>\r\n                </TouchableOpacity>\r\n                <Text style={styles.txtAbaixo}>ou</Text>\r\n                <TouchableOpacity\r\n                    onPress={() => {\r\n                        cadastro();\r\n                    }}>\r\n                    <Text style={styles.txtCad}>Cadastre-se</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}